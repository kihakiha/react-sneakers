{"version":3,"sources":["Components/Drawer/Drawer.module.scss","Components/Card/Card.module.scss","Components/Header.js","Components/info.jsx","Components/Drawer/index.js","Components/Card/index.js","pages/Home.jsx","pages/Favourites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","Header","props","totalPrice","React","useContext","AppContext","basketItems","reduce","sum","obj","price","className","to","width","height","src","alt","onClick","onClickBasket","Info","image","title","description","setBasketOpen","delay","time","Promise","resolve","setTimeout","Drawer","onCloseCart","onRemove","items","opened","setBasketItems","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoadingOrder","setIsLoadingOrder","NDS","Math","floor","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","disabled","Card","onClickAddBasket","onClickFavourite","Favourite","added","loading","isItemAdded","isFavourite","setIsFavourite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favourite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddBasket","onAddFavourite","isLoading","onChange","value","type","placeholder","filteredItems","filter","toLowerCase","includes","Array","itemIndex","renderItems","Favourites","favourites","Orders","orders","setOrders","setIsLoading","useEffect","get","flat","createContext","App","setItems","setFavourites","basketOpened","cartResp","favResp","itemsResp","fetchData","findItem","find","Number","then","prev","onRemoveBasketItem","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf5e7ca5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__3kPTp\",\"overlayVisible\":\"Drawer_overlayVisible__3IJpy\",\"drawer\":\"Drawer_drawer__1pivs\",\"items\":\"Drawer_items__3JQre\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__38elP\",\"plus\":\"Card_plus__1f188\",\"favourite\":\"Card_favourite__1pd9r\"};","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {AppContext} from \"../App\";\r\n\r\nconst Header = (props) => {\r\n    const {basketItems} = React.useContext(AppContext)\r\n    const totalPrice = basketItems.reduce((sum, obj) => sum + obj.price, 0)\r\n    return (\r\n        <header className='d-flex justify-between align-center p-40'>\r\n            <Link to='/react-sneakers'>\r\n                <div className=\"d-flex align-center m-0\">\r\n                    <img className='mr-15' width={40} height={40} src='img/logo.png' alt='Logo'/>\r\n                    <div>\r\n                        <h3 className='text-uppercase'>React Sneakers SUKA 2</h3>\r\n                        <span className='opacity-5'>Магазин лучших кроссовок</span>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <ul className='d-flex'>\r\n                <li className='mr-30 cu-p' onClick={props.onClickBasket}>\r\n                    <img src=\"img/basket.svg\" alt=\"cart\" className=\"mr-10\"/>\r\n                    <span>{totalPrice} руб.</span></li>\r\n                <li>\r\n                    <Link to='/react-sneakers/favourites'>\r\n                        <img src=\"img/favourite.svg\" alt=\"Favourite\" className=\"cu-p mr-30\"/>\r\n                    </Link>\r\n                    <Link to='/react-sneakers/user'>\r\n                        <img src='img/profile.svg' alt=\"User\" className='cu-p'/>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport {AppContext} from \"../App\";\r\n\r\nconst Info = ({image, title, description }) => {\r\n\r\n    const {setBasketOpen} = React.useContext(AppContext)\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"basketEmpty d-flex justify-center align-center flex-column flex\">\r\n                <img className='mb-20' width={120}  src={image} alt=\"Empty Basket\"/>\r\n                <h2>{title}</h2>\r\n                <p className='text-center opacity-6'>{description}</p>\r\n                <button onClick={() => setBasketOpen(false)} className='confirmBtn'>\r\n                    <img src='img/leftArrow.svg' alt='left'/>\r\n                    Вернуться назад\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Info;","import React from 'react';\r\nimport axios from \"axios\";\r\n\r\nimport Info from \"../info\";\r\nimport {AppContext} from \"../../App\";\r\n\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (time) => new Promise((resolve) => setTimeout(resolve,time))\r\n\r\nconst Drawer = ({onCloseCart, onRemove, items = [], opened}) => {\r\n\r\n    const {basketItems, setBasketItems} = React.useContext(AppContext)\r\n    const [orderId, setOrderId] = React.useState(null)\r\n    const [isOrderComplete, setIsOrderComplete] = React.useState(false)\r\n    const [isLoadingOrder, setIsLoadingOrder] = React.useState(false)\r\n\r\n    const totalPrice = basketItems.reduce((sum, obj) => sum + obj.price, 0)\r\n    const NDS = Math.floor(totalPrice - 0.8*totalPrice)\r\n    const onClickOrder = async () => {\r\n        try {\r\n            setIsLoadingOrder(true)\r\n            const { data } = await axios.post('https://60ec458ae9647b0017cde13f.mockapi.io/orders', {\r\n                items: basketItems\r\n            })\r\n            setOrderId(data.id)\r\n            setIsOrderComplete(true)\r\n            setBasketItems([])\r\n            for (let i = 0; i < basketItems.length; i++) {\r\n                const item = basketItems[i]\r\n                await axios.delete('https://60ec458ae9647b0017cde13f.mockapi.io/cart/' + item.id)\r\n                await delay(1000)\r\n            }\r\n        } catch (e){\r\n            alert(e)\r\n        }\r\n        setIsLoadingOrder(false)\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisible : '' }`}>\r\n            <div className={`${styles.drawer} d-flex flex flex-column p-30`}>\r\n                <h2 className='mb-30 d-flex justify-between'>\r\n                    Корзина\r\n                    <img\r\n                        onClick={onCloseCart}\r\n                        className='btnRemove cu-p'\r\n                        src=\"img/btnRemove.svg\"\r\n                        alt=\"Remove\"\r\n                    />\r\n                </h2>\r\n\r\n                {\r\n                    items.length > 0 ?\r\n                        <div className=' d-flex flex-column flex'>\r\n                            <div className=\"items flex\">\r\n                                {\r\n                                    items.map((obj) => (\r\n                                        <div key={obj.id} className=\"basketItem mb-20 d-flex align-center\">\r\n                                            <div\r\n                                                style={{backgroundImage: `url(${obj.imageUrl})`}}\r\n                                                className=\"basketItemImg\"\r\n                                            />\r\n                                            <div className='mr-20 flex'>\r\n                                                <p className='mb-5'>{obj.title}</p>\r\n                                                <b>{obj.price} руб.</b>\r\n                                            </div>\r\n                                            <img onClick={() => onRemove(obj.id)} className='btnRemove'\r\n                                                 src=\"img/btnRemove.svg\" alt=\"Remove\"/>\r\n                                        </div>\r\n                                    ))\r\n                                }\r\n                                <div className=\"basketTotalBlock\">\r\n                                    <ul>\r\n                                        <li className='d-flex'>\r\n                                            <span>Итого:</span>\r\n                                            <div></div>\r\n                                            <b>{totalPrice} руб.</b>\r\n                                        </li>\r\n                                        <li className='d-flex'>\r\n                                            <span>В том числе налог 20% (НДС):</span>\r\n                                            <div></div>\r\n                                            <b>{NDS} руб.</b>\r\n                                        </li>\r\n                                    </ul>\r\n                                    <button disabled={isLoadingOrder} onClick={onClickOrder} className='confirmBtn'>\r\n                                        Оформить заказ\r\n                                        <img src=\"img/arrow.svg\" alt=\"->\"/>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <Info\r\n                            title={isOrderComplete ? 'Заказ оформлен' : 'Корзина пустая'}\r\n                            image={isOrderComplete ? 'img/offer.svg': 'img/emptyBasket.png'}\r\n                            description={isOrderComplete ?\r\n                                `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                                :\r\n                                'Добавьте хотя бы одну пару кроссовок, чтобы сделатьзаказ.'\r\n                            }\r\n                        />\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Drawer;","import React from 'react';\r\nimport styles from './Card.module.scss'\r\nimport ContentLoader from \"react-content-loader\";\r\nimport {AppContext} from \"../../App\";\r\n\r\n\r\n\r\nconst Card = ({\r\n                  id,\r\n                  onClickAddBasket,\r\n                  price,\r\n                  title,\r\n                  imageUrl,\r\n                  onClickFavourite,\r\n                  Favourite,\r\n                  added = false,\r\n                  loading = false\r\n              }) => {\r\n    const {isItemAdded} = React.useContext(AppContext)\r\n    const [isFavourite, setIsFavourite] = React.useState(Favourite);\r\n    const obj = {id, parentId: id, title, imageUrl, price}\r\n    const handlePlus = () => {\r\n        onClickAddBasket(obj)\r\n    }\r\n    const handleFavourite = () => {\r\n        onClickFavourite(obj)\r\n        setIsFavourite(!isFavourite)\r\n    }\r\n    return (\r\n        <div className={styles.card}>\r\n            {\r\n                loading ?\r\n                    <ContentLoader\r\n                        speed={2}\r\n                        width={150}\r\n                        height={240}\r\n                        viewBox=\"0 0 150 265\"\r\n                        backgroundColor=\"#f3f3f3\"\r\n                        foregroundColor=\"#ecebeb\"\r\n                    >\r\n                        <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"130\"/>\r\n                        <rect x=\"0\" y=\"150\" rx=\"10\" ry=\"10\" width=\"150\" height=\"15\"/>\r\n                        <rect x=\"0\" y=\"174\" rx=\"10\" ry=\"10\" width=\"100\" height=\"15\"/>\r\n                        <rect x=\"0\" y=\"210\" rx=\"10\" ry=\"10\" width=\"80\" height=\"24\"/>\r\n                        <rect x=\"118\" y=\"205\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\"/>\r\n                    </ContentLoader>\r\n                    :\r\n                    <>\r\n                        <div onClick={handleFavourite} className={styles.favourite}>\r\n                            <img src={isFavourite ? 'img/favouriteSelected.svg' : 'img/favouriteNone.svg'}\r\n                                 alt=\"favouriteNone\"/>\r\n                        </div>\r\n                        <div className=\"d-flex align-center justify-center\">\r\n                            <img width={133} height={112} src={imageUrl} alt=\"Sneakers\"/>\r\n                        </div>\r\n                        <h5>{title}</h5>\r\n                        <div className='d-flex justify-between align-center'>\r\n                            <div className='d-flex flex-column'>\r\n                                <span>Цена:</span>\r\n                                <b>{price} руб.</b>\r\n                            </div>\r\n                            {onClickAddBasket && <img\r\n                                className={styles.plus}\r\n                                onClick={handlePlus}\r\n                                src={\r\n                                    isItemAdded(id) ? 'img/inBasket.svg' : 'img/notInBasket.png'\r\n                                }\r\n                                alt=\"Add\"\r\n                            />}\r\n                        </div>\r\n                    </>\r\n            }\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from \"../Components/Card\";\r\n\r\n\r\nfunction Home({\r\n                  items,\r\n                  searchValue,\r\n                  setSearchValue,\r\n                  onChangeSearchInput,\r\n                  onAddBasket,\r\n                  onAddFavourite,\r\n                  isLoading\r\n})\r\n{\r\n    const renderItems = () => {\r\n        const filteredItems = items && items.filter(item => item.title.toLowerCase().includes(searchValue.toLowerCase()))\r\n        return (isLoading ? [...Array(4)] : filteredItems)\r\n            .map((item, itemIndex) => (\r\n                <Card\r\n                    key={itemIndex}\r\n                    onClickAddBasket={(obj) => onAddBasket(obj)}\r\n                    onClickFavourite={(obj) => onAddFavourite(obj)}\r\n\r\n                    {...item}\r\n                    loading = {isLoading}\r\n                />\r\n            ))\r\n    }\r\n\r\n    return (\r\n        <section className=\"content p-40\">\r\n            <div className='mb-30 d-flex justify-between align-center'>\r\n                <h1>{searchValue ? `По запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n                <div className=\"searchBlock d-flex\">\r\n                    <img src='img/search.svg' alt=\"Search\"/>\r\n                    {searchValue &&\r\n                    <img\r\n                        onClick={() => setSearchValue('')}\r\n                        className='btnSearchClear btnRemove cu-p'\r\n                        src=\"img/btnRemove.svg\"\r\n                        alt=\"Clear\"\r\n                    />\r\n                    }\r\n                    <input onChange={onChangeSearchInput} value={searchValue} type=\"text\" placeholder='Поиск...'/>\r\n                </div>\r\n            </div>\r\n            <div className=\"catalog d-flex justify-around flex-wrap\">\r\n                {\r\n                    renderItems()\r\n                }\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Card from \"../Components/Card\";\r\nimport {AppContext} from \"../App\";\r\n\r\nfunction Favourites() {\r\n    const {favourites, onAddFavourite, onAddBasket} = React.useContext(AppContext);\r\n    return (\r\n        <section className=\"content p-40\">\r\n            <div className='mb-30 d-flex justify-between align-center'>\r\n                <h1>Мои закладки</h1>\r\n            </div>\r\n            <div className=\"catalog d-flex justify-around flex-wrap\">\r\n                {favourites\r\n                    .map((item, itemIndex) => (\r\n                        <Card\r\n                            key={itemIndex}\r\n                            onClickAddBasket={(obj) => onAddBasket(obj)}\r\n                            onClickFavourite={(obj) => onAddFavourite(obj)}\r\n                            Favourite = {true}\r\n                            {...item}\r\n\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Favourites;","import React from 'react';\r\nimport Card from \"../Components/Card\";\r\nimport axios from \"axios\";\r\nimport {AppContext} from \"../App\";\r\n\r\nfunction Orders() {\r\n    const { onAddFavourite } = React.useContext(AppContext)\r\n    const [orders, setOrders] = React.useState([])\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n    React.useEffect(() => {\r\n        ( async () => {\r\n            try{\r\n                const { data } = await axios.get('https://60ec458ae9647b0017cde13f.mockapi.io/orders')\r\n                setOrders(data.map((obj) => obj.items).flat())\r\n                setIsLoading(false)\r\n            } catch (e){\r\n                alert(e)\r\n            }\r\n        })();\r\n    },[]);\r\n\r\n    return (\r\n        <section className=\"content p-40\">\r\n            <div className='mb-30 d-flex justify-between align-center'>\r\n                <h1>Мои заказы</h1>\r\n            </div>\r\n            <div className=\"catalog d-flex justify-center flex-wrap\">\r\n                {(isLoading ? [...Array(4)] : orders)\r\n                    .map((item, itemIndex) => (\r\n                        <Card\r\n                            key={itemIndex}\r\n                            onClickFavourite={(obj) => onAddFavourite(obj)}\r\n                            {...item}\r\n                            loading = {isLoading}\r\n                        />\r\n                    ))\r\n                }\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Orders;","import React from 'react';\nimport axios from \"axios\";\nimport {Route} from 'react-router-dom'\nimport Header from './Components/Header'\nimport Index from \"./Components/Drawer/\";\nimport Home from \"./pages/Home\";\nimport Favourites from \"./pages/Favourites\";\nimport Orders from \"./pages/Orders\";\n\nexport const AppContext = React.createContext({});\n\nfunction App() {\n\n    const [items, setItems] = React.useState([]);\n    const [basketItems, setBasketItems] = React.useState([]);\n    const [favourites, setFavourites] = React.useState([]);\n    const [searchValue, setSearchValue] = React.useState('');\n    const [basketOpened, setBasketOpen] = React.useState(false);\n    const [isLoading, setIsLoading] = React.useState(true);\n\n    React.useEffect(() => {\n        async function fetchData() {\n            try {\n                setIsLoading(true)\n                const cartResp = await axios.get('https://60ec458ae9647b0017cde13f.mockapi.io/cart');\n                const favResp = await axios.get('https://60ec458ae9647b0017cde13f.mockapi.io/favorites');\n                const itemsResp = await axios.get('https://60ec458ae9647b0017cde13f.mockapi.io/items');\n\n                setIsLoading(false)\n\n                setFavourites(favResp.data)\n                setBasketItems(cartResp.data)\n                setItems(itemsResp.data)\n            } catch (e) {\n                alert(e)\n            }\n        }\n\n        fetchData()\n    }, [])\n\n    const onAddBasket = async (obj) => {\n        const findItem = basketItems.find((item) => Number(item.parentId) === Number(obj.id))\n        try {\n            if (findItem) {\n                await axios.delete(`https://60ec458ae9647b0017cde13f.mockapi.io/cart/${findItem.id}`).then();\n                setBasketItems(prev => prev.filter(item => Number(item.parentId) !== Number(obj.id)));\n            } else {\n                const { data } = await axios.post('https://60ec458ae9647b0017cde13f.mockapi.io/cart', obj).then();\n                setBasketItems(prev => [...prev, data]);\n            }\n        } catch (e) {\n            alert(e);\n        }\n    }\n    const onRemoveBasketItem = async (id) => {\n        try {\n            await axios.delete(`https://60ec458ae9647b0017cde13f.mockapi.io/cart/${id}`).then();\n            setBasketItems(prev => prev.filter(item => Number(item.id) !== Number(id)));\n        } catch (e){\n            alert(e)\n        }\n    }\n\n    const onChangeSearchInput = (event) => {\n        setSearchValue(event.target.value);\n    }\n\n    const onAddFavourite = async (obj) => {\n        try {\n            if (favourites.find(favObj => Number(favObj.id) === Number(obj.id))) {\n                axios.delete(`https://60ec458ae9647b0017cde13f.mockapi.io/favorites/${obj.id}`).then();\n                setFavourites(prev => prev.filter(item => Number(item.id) !== Number(obj.id)));\n            } else {\n                const {data} = await axios.post('https://60ec458ae9647b0017cde13f.mockapi.io/favorites', obj).then();\n                setFavourites(prev => [...prev, data]);\n            }\n        } catch (error) {\n            alert(error)\n        }\n\n    }\n\n    const isItemAdded = (id) => {\n        return basketItems.some(obj => Number(obj.parentId) === Number(id))\n    }\n\n    return (\n        <AppContext.Provider value={{\n            basketItems,\n            favourites,\n            items,\n            isItemAdded,\n            onAddFavourite,\n            onAddBasket,\n            setBasketOpen,\n            setBasketItems\n        }}>\n            <div className=\"wrapper clear\">\n                <Index\n                    items={basketItems}\n                    onRemove={onRemoveBasketItem}\n                    onCloseCart={() => setBasketOpen(false)}\n                    opened={basketOpened}\n                />\n                <Header onClickBasket={() => setBasketOpen(true)}/>\n                <Route path='/react-sneakers/' exact>\n                    <Home\n                        items={items}\n                        basketItems={basketItems}\n                        searchValue={searchValue}\n                        setSearchValue={setSearchValue}\n                        onChangeSearchInput={onChangeSearchInput}\n                        onAddBasket={onAddBasket}\n                        onAddFavourite={onAddFavourite}\n                        isLoading={isLoading}\n                    />\n                </Route>\n                <Route path='/react-sneakers/favourites' exact>\n                    <Favourites/>\n                </Route>\n                <Route path='/react-sneakers/user' exact>\n                    <Orders />\n                </Route>\n            </div>\n        </AppContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport 'macro-css';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <App/>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);"],"sourceRoot":""}